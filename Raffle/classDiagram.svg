<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="942pt" height="1589pt"
 viewBox="0.00 0.00 942.31 1589.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1585)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1585 938.31,-1585 938.31,4 -4,4"/>
<!-- 1 -->
<g id="node1" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="383.18,-0.5 383.18,-134.1 471.88,-134.1 471.88,-0.5 383.18,-0.5"/>
<text text-anchor="middle" x="427.53" y="-117.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Enum&gt;&gt;</text>
<text text-anchor="middle" x="427.53" y="-100.7" font-family="Times,serif" font-size="14.00">Status</text>
<text text-anchor="middle" x="427.53" y="-83.9" font-family="Times,serif" font-size="14.00">Raffle.sol</text>
<polyline fill="none" stroke="black" points="383.18,-75.7 471.88,-75.7 "/>
<text text-anchor="start" x="391.18" y="-59.1" font-family="Times,serif" font-size="14.00">ready: 0</text>
<text text-anchor="start" x="391.18" y="-42.3" font-family="Times,serif" font-size="14.00">ongoing: 1</text>
<text text-anchor="start" x="391.18" y="-25.5" font-family="Times,serif" font-size="14.00">completed: 2</text>
<text text-anchor="start" x="391.18" y="-8.7" font-family="Times,serif" font-size="14.00">canceled: 3</text>
</g>
<!-- 0 -->
<g id="node5" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-171.1 0,-984.7 855.06,-984.7 855.06,-171.1 0,-171.1"/>
<text text-anchor="middle" x="427.53" y="-968.1" font-family="Times,serif" font-size="14.00">RaffleShop</text>
<text text-anchor="middle" x="427.53" y="-951.3" font-family="Times,serif" font-size="14.00">Raffle.sol</text>
<polyline fill="none" stroke="black" points="0,-943.1 855.06,-943.1 "/>
<text text-anchor="start" x="8" y="-926.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-909.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;shop: mapping(address=&gt;Shop)</text>
<polyline fill="none" stroke="black" points="0,-901.5 855.06,-901.5 "/>
<text text-anchor="start" x="8" y="-884.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-868.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;makeItem(fungibleToken: address, boxIdx: uint256, price: uint256, tokenURI: string, box: Box)</text>
<text text-anchor="start" x="8" y="-851.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;luckyDraw(entryLength: uint256): uint256</text>
<text text-anchor="start" x="8" y="-834.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-817.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CreatedShop(fungibleToken: address, admin: address, productAddr: address)</text>
<text text-anchor="start" x="8" y="-800.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DestroyedShop(fungibleToken: address)</text>
<text text-anchor="start" x="8" y="-784.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SettedAdmin(fungibleToken: address, admin: address, status: bool)</text>
<text text-anchor="start" x="8" y="-767.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; createdBox(fungibleToken: address, ticketAddr: address, boxIdx: uint256, startBlock: uint256, endBlock: uint256)</text>
<text text-anchor="start" x="8" y="-750.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedAvailableNFT(fungibleToken: address, ticketAddr: address, boxIdx: uint256)</text>
<text text-anchor="start" x="8" y="-733.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedItem(fungibleToken: address, boxIdx: uint256, NFTId: uint256, price: uint256)</text>
<text text-anchor="start" x="8" y="-716.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; removedItem(fungibleToken: address, boxIdx: uint256, NFTId: uint256)</text>
<text text-anchor="start" x="8" y="-700.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; JoinedRaffle(joiner: address, fungibleToken: address, boxIdx: uint256, selectedItem: uint256, addrOfNFT: address, userNFT: uint256)</text>
<text text-anchor="start" x="8" y="-683.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CompletedRaffle(fungibleToken: address, boxIdx: uint256)</text>
<text text-anchor="start" x="8" y="-666.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CanceledRaffle(fungibleToken: address, boxIdx: uint256)</text>
<text text-anchor="start" x="8" y="-649.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StartedRaffle(fungibleToken: address, boxIdx: uint256)</text>
<text text-anchor="start" x="8" y="-632.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LuckyDrawed(fungibleToken: address, boxIdx: uint256, itemNumber: uint256, winner: address, raffleTicket: uint256)</text>
<text text-anchor="start" x="8" y="-616.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Withdrawed(fungibleToken: address, amount: uint256)</text>
<text text-anchor="start" x="8" y="-599.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAdmin(fungibleToken: address)</text>
<text text-anchor="start" x="8" y="-582.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createShop(fungibleToken: address, productAddr: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="8" y="-565.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getShop(fungibleToken: address): (admin: bool, productAddr: address, currentBox: uint256)</text>
<text text-anchor="start" x="8" y="-548.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;destroyShop(fungibleToken: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="8" y="-532.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAdmin(fungibleToken: address, admin: address, status: bool) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-515.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;checkAdmin(fungibleToken: address, target: address): (admin: bool)</text>
<text text-anchor="start" x="8" y="-498.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createBox(fungibleToken: address, ticketAddr: address, startBlock: uint256, endBlock: uint256) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-481.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;viewBox(fungibleToken: address, boxIdx: uint256): (startBlock: uint256, endBlock: uint256, status: Status)</text>
<text text-anchor="start" x="8" y="-464.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getCurrentBox(fungibleToken: address): (currentBox: uint256)</text>
<text text-anchor="start" x="8" y="-448.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addItem(fungibleToken: address, boxIdx: uint256, price: uint256, tokenURI: string) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-431.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;batchAddItem(fungibleToken: address, boxIdx: uint256, price: uint256[], tokenURI: string[]) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-414.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getItem(fungibleToken: address, boxIdx: uint256, itemIdx: uint256): (tokenIdOfProduct: uint256, price: uint256, entry: uint256[], winner: address)</text>
<text text-anchor="start" x="8" y="-397.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeItem(fungibleToken: address, boxIdx: uint256, itemIdx: uint256): bool &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-380.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;joinRaffle(fungibleToken: address, boxIdx: uint256, selectedItem: uint256, addrOfNFT: address, userNFT: uint256)</text>
<text text-anchor="start" x="8" y="-364.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;viewRaffle(fungibleToken: address, boxIdx: uint256, itemIndex: uint256): (ticketAmount: uint256)</text>
<text text-anchor="start" x="8" y="-347.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;usedTicket(fungibleToken: address, boxIdx: uint256, tokenId: uint256): (used: bool)</text>
<text text-anchor="start" x="8" y="-330.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;endRaffle(fungibleToken: address, boxIdx: uint256) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-313.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;forceEndRaffle(fungibleToken: address, boxIdx: uint256) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-296.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;cancelRaffle(fungibleToken: address, boxIdx: uint256) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-280.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;startRaffle(fungibleToken: address, boxIdx: uint256) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-263.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;draw(fungibleToken: address, boxIdx: uint256, itemNumber: uint256) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-246.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;discard(fungibleToken: address, tokenId: uint256, price: uint256) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-229.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;refund(fungibleToken: address, boxIdx: uint256, itemNumber: uint256, user: address)</text>
<text text-anchor="start" x="8" y="-212.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRefundingAmount(fungibleToken: address, boxIdx: uint256, itemNumber: uint256, user: address): (refundingAmount: uint256)</text>
<text text-anchor="start" x="8" y="-196.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdraw(fungibleToken: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="8" y="-179.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;batchRefund(fungibleToken: address, boxIdx: uint256, itemNumber: uint256, user: address[])</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M422.81,-134.27C422.6,-141.94 422.4,-150.13 422.22,-158.75"/>
<polygon fill="black" stroke="black" points="422.22,-158.78 426.1,-164.86 421.99,-170.78 418.11,-164.7 422.22,-158.78"/>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="464.84,-1021.7 464.84,-1172.1 664.21,-1172.1 664.21,-1021.7 464.84,-1021.7"/>
<text text-anchor="middle" x="564.53" y="-1155.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="564.53" y="-1138.7" font-family="Times,serif" font-size="14.00">Shop</text>
<text text-anchor="middle" x="564.53" y="-1121.9" font-family="Times,serif" font-size="14.00">Raffle.sol</text>
<polyline fill="none" stroke="black" points="464.84,-1113.7 664.21,-1113.7 "/>
<text text-anchor="start" x="472.84" y="-1097.1" font-family="Times,serif" font-size="14.00">boxes: Box[]</text>
<text text-anchor="start" x="472.84" y="-1080.3" font-family="Times,serif" font-size="14.00">admin: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="472.84" y="-1063.5" font-family="Times,serif" font-size="14.00">currentBox: uint256</text>
<text text-anchor="start" x="472.84" y="-1046.7" font-family="Times,serif" font-size="14.00">productAddr: address</text>
<text text-anchor="start" x="472.84" y="-1029.9" font-family="Times,serif" font-size="14.00">destroyed: bool</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="408.23,-1209.1 408.23,-1376.3 634.82,-1376.3 634.82,-1209.1 408.23,-1209.1"/>
<text text-anchor="middle" x="521.53" y="-1359.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="521.53" y="-1342.9" font-family="Times,serif" font-size="14.00">Box</text>
<text text-anchor="middle" x="521.53" y="-1326.1" font-family="Times,serif" font-size="14.00">Raffle.sol</text>
<polyline fill="none" stroke="black" points="408.23,-1317.9 634.82,-1317.9 "/>
<text text-anchor="start" x="416.23" y="-1301.3" font-family="Times,serif" font-size="14.00">startBlock: uint256</text>
<text text-anchor="start" x="416.23" y="-1284.5" font-family="Times,serif" font-size="14.00">deadline: uint256</text>
<text text-anchor="start" x="416.23" y="-1267.7" font-family="Times,serif" font-size="14.00">status: Status</text>
<text text-anchor="start" x="416.23" y="-1250.9" font-family="Times,serif" font-size="14.00">products: product[]</text>
<text text-anchor="start" x="416.23" y="-1234.1" font-family="Times,serif" font-size="14.00">availableNFT: address</text>
<text text-anchor="start" x="416.23" y="-1217.3" font-family="Times,serif" font-size="14.00">usedTicket: mapping(uint256=&gt;bool)</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M548.03,-1172.27C546.1,-1180.96 544.12,-1189.9 542.14,-1198.8"/>
<polygon fill="black" stroke="black" points="538.67,-1198.29 539.92,-1208.81 545.5,-1199.8 538.67,-1198.29"/>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M549.74,-1021.58C547.86,-1013.73 545.83,-1005.4 543.69,-996.68"/>
<polygon fill="black" stroke="black" points="543.68,-996.64 538.35,-991.78 540.8,-984.99 546.12,-989.86 543.68,-996.64"/>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M635.05,-1228.2C716.69,-1175.25 819.94,-1091.42 864.53,-985.2 934.6,-818.29 977,-312.44 864.53,-170.6 817.32,-111.07 588.46,-82.87 482.09,-72.82"/>
<polygon fill="black" stroke="black" points="482.16,-69.31 471.88,-71.87 481.52,-76.28 482.16,-69.31"/>
</g>
<!-- 4 -->
<g id="node4" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="225.57,-1413.3 225.57,-1580.5 517.49,-1580.5 517.49,-1413.3 225.57,-1413.3"/>
<text text-anchor="middle" x="371.53" y="-1563.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="371.53" y="-1547.1" font-family="Times,serif" font-size="14.00">product</text>
<text text-anchor="middle" x="371.53" y="-1530.3" font-family="Times,serif" font-size="14.00">Raffle.sol</text>
<polyline fill="none" stroke="black" points="225.57,-1522.1 517.49,-1522.1 "/>
<text text-anchor="start" x="233.57" y="-1505.5" font-family="Times,serif" font-size="14.00">tokenId: uint256</text>
<text text-anchor="start" x="233.57" y="-1488.7" font-family="Times,serif" font-size="14.00">price: uint256</text>
<text text-anchor="start" x="233.57" y="-1471.9" font-family="Times,serif" font-size="14.00">entry: uint256[]</text>
<text text-anchor="start" x="233.57" y="-1455.1" font-family="Times,serif" font-size="14.00">winner: address</text>
<text text-anchor="start" x="233.57" y="-1438.3" font-family="Times,serif" font-size="14.00">countForRefunding: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="233.57" y="-1421.5" font-family="Times,serif" font-size="14.00">originOwner: mapping(uint256=&gt;address)</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge3" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M460.08,-1376.53C453.14,-1385.89 446.03,-1395.47 439.01,-1404.93"/>
<polygon fill="black" stroke="black" points="436.02,-1403.09 432.88,-1413.2 441.65,-1407.26 436.02,-1403.09"/>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M478.37,-1208.87C472.87,-1197.05 467.98,-1184.77 464.53,-1172.6 448.68,-1116.76 438.44,-1056.8 432.02,-997.22"/>
<polygon fill="black" stroke="black" points="431.98,-996.85 427.39,-991.29 430.75,-984.91 435.35,-990.47 431.98,-996.85"/>
</g>
<!-- 4&#45;&gt;0 -->
<g id="edge7" class="edge">
<title>4&#45;&gt;0</title>
<path fill="none" stroke="black" d="M380.68,-1412.88C388.44,-1317.58 399.31,-1154.13 408.72,-997.04"/>
<polygon fill="black" stroke="black" points="408.74,-996.76 405.1,-990.53 409.45,-984.78 413.09,-991.01 408.74,-996.76"/>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge10" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M433.07,-170.78C432.9,-161.57 432.72,-152.77 432.51,-144.49"/>
<polygon fill="black" stroke="black" points="436.01,-144.17 432.25,-134.27 429.01,-144.36 436.01,-144.17"/>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge8" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M529.48,-984.99C532.12,-994.35 534.67,-1003.32 537.11,-1011.83"/>
<polygon fill="black" stroke="black" points="533.79,-1012.95 539.93,-1021.58 540.52,-1011.01 533.79,-1012.95"/>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge9" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M412.98,-984.91C419.06,-1048.52 429.59,-1112.92 446.53,-1172.6 449.09,-1181.63 452.45,-1190.72 456.32,-1199.64"/>
<polygon fill="black" stroke="black" points="453.2,-1201.23 460.54,-1208.87 459.56,-1198.32 453.2,-1201.23"/>
</g>
<!-- 0&#45;&gt;4 -->
<g id="edge11" class="edge">
<title>0&#45;&gt;4</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M396.03,-984.78C386.31,-1140.07 377.14,-1303.52 372.94,-1402.61"/>
<polygon fill="black" stroke="black" points="369.44,-1402.74 372.52,-1412.88 376.43,-1403.03 369.44,-1402.74"/>
</g>
</g>
</svg>
